(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{213:function(e,t,i){var a=i(214);"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(18)(a,n);a.locals&&(e.exports=a.locals)},214:function(e,t,i){(t=e.exports=i(17)(!1)).push([e.i,".article-1HGRv {\n  color: black;\n  border-radius: 3px; }\n  .article-1HGRv .not-found {\n    font-size: 100px;\n    font-weight: bold;\n    text-align: center;\n    color: #999;\n    height: 400px;\n    line-height: 400px;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none; }\n  .article-1HGRv .title {\n    background: white;\n    padding: 15px;\n    border-radius: 3px;\n    color: #909090; }\n    .article-1HGRv .title h1 {\n      margin-bottom: 10px;\n      color: black; }\n    .article-1HGRv .title .user {\n      display: flex; }\n      .article-1HGRv .title .user .avatar {\n        width: 60px;\n        height: 60px;\n        margin-right: 10px; }\n      .article-1HGRv .title .user .name {\n        height: 30px;\n        line-height: 30px; }\n      .article-1HGRv .title .user .detail {\n        height: 30px;\n        line-height: 30px; }\n      .article-1HGRv .title .user .date {\n        letter-spacing: 1px;\n        margin-right: 10px; }\n      .article-1HGRv .title .user .read-count {\n        margin: 0 5px; }\n      .article-1HGRv .title .user .edit {\n        margin: 0 5px;\n        color: #1264b6;\n        cursor: pointer; }\n        .article-1HGRv .title .user .edit:hover {\n          text-decoration: underline; }\n  .article-1HGRv .markdown-style {\n    margin-top: 24px;\n    background: white;\n    padding: 15px;\n    border-radius: 3px; }\n",""]),t.locals={article:"article-1HGRv"}},221:function(e,t,i){"use strict";i.r(t);var a=i(32),n=i.n(a),r=i(0),s=i.n(r),l=i(1),c=i(12),o=i(70),d=i.n(o),u=i(213),m=i.n(u),p=i(33),h=i(11),v=i(42),g=i(30),x=i.n(g);t.default=Object(l.withRouter)(Object(c.b)(function(e){return{userInfo:e.common.userInfo,login:e.common.login}})(class extends r.PureComponent{constructor(e){super(e),n()(this,"state",{articleId:"",title:"",source:"",updateTime:"",uid:0,nickname:"",avatar:"",visitCount:0,notFound:!1}),n()(this,"visitCalled",!1),n()(this,"editArticle",()=>{const{articleId:e}=this.state;Object(h.d)(e),this.props.history.push("/editor/")});const{match:t}=e;this.state.articleId=t.params.id,this.state.articleId?this.init():this.props.history.replace("/blog")}componentWillReceiveProps(e){this.addArticleVisitRecord(e)}async init(){await this.getArticleDetail(),this.addArticleVisitRecord(this.props)}async getArticleDetail(){const{articleId:e}=this.state,{status:t,data:i}=await Object(p.e)(e);"success"===t?this.setState({title:i.title,source:i.markdown,uid:i.uid,updateTime:x()(i.updateTime).format("YYYY年MM月DD日"),nickname:i.nickname,avatar:i.avatar,visitCount:i.visitCount}):this.setState({notFound:!0})}async addArticleVisitRecord(e){const{articleId:t}=this.state,{login:i,userInfo:a}=e;!t||i&&!a||this.visitCalled||(this.visitCalled=!0,await Object(p.a)(t,(a||{}).id))}render(){const{source:e,title:t,updateTime:i,uid:a,nickname:n,avatar:r,visitCount:l,notFound:c}=this.state,{userInfo:o}=this.props;let u=null;return c?u=s.a.createElement("div",{className:"not-found"},"404 - Not Found"):a&&(u=s.a.createElement("div",{className:"title"},s.a.createElement("h1",null,t),s.a.createElement("div",{className:"user"},s.a.createElement("div",{className:"avatar"},s.a.createElement(v.a,{src:r})),s.a.createElement("div",{className:"info"},s.a.createElement("div",{className:"name"},n||"匿名"),s.a.createElement("div",{className:"detail"},s.a.createElement("span",{className:"date"},i)," 浏览",s.a.createElement("span",{className:"read-count"},l),o&&o.id===a&&s.a.createElement("span",{className:"edit",onClick:this.editArticle},"编辑")))))),s.a.createElement("div",{className:m.a.article},u,e&&s.a.createElement(d.a,{className:"markdown-style",source:e}))}}))}}]);