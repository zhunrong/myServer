(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{204:function(e,t,a){var i=a(205);"string"==typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(18)(i,s);i.locals&&(e.exports=i.locals)},205:function(e,t,a){(t=e.exports=a(17)(!1)).push([e.i,".blog-2v5Ot{color:black}.blog-2v5Ot .articles{list-style:none;width:70%}.blog-2v5Ot .articles li{margin-bottom:24px;background:white;padding:10px;border-radius:3px;display:-webkit-box;display:flex}.blog-2v5Ot .articles li .main{-webkit-box-flex:1;flex:1}.blog-2v5Ot .articles li .main h2{cursor:pointer}.blog-2v5Ot .articles li .main .date{font-size:12px;color:#909090;letter-spacing:1px}.blog-2v5Ot .articles li .user{width:100px;position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.blog-2v5Ot .articles li .user .avatar{width:40px;height:40px}.blog-2v5Ot .articles .more,.blog-2v5Ot .articles .no-more{width:100%;display:block;line-height:50px;color:#fff;text-align:center;border-radius:25px;background:#999;cursor:pointer;margin-bottom:24px}.blog-2v5Ot .articles .no-more{cursor:not-allowed;background:#ccc;color:#666}\n",""]),t.locals={blog:"blog-2v5Ot"}},217:function(e,t,a){"use strict";a.r(t);var i=a(30),s=a.n(i),l=a(0),o=a.n(l),r=a(1),n=a(11),c=a(31),p=a(204),g=a.n(p),m=a(28),b=a.n(m),d=a(43);class u extends l.PureComponent{constructor(...e){super(...e),s()(this,"state",{articles:[],page:0,pageSize:20,pageCount:1}),s()(this,"getArticles",async()=>{const{page:e,pageSize:t,pageCount:a,articles:i}=this.state;if(e>=a)return;const{status:s,message:l,data:o,meta:r}=await Object(c.d)(t,e+1);"success"===s?this.setState({articles:i.concat(o),pageCount:r.pageCount,page:r.page,pageSize:r.pageSize}):n.message.error(l)}),s()(this,"linkToDetail",e=>{this.props.history.push(`/article/${e}`)})}componentDidMount(){this.getArticles()}render(){const{articles:e,page:t,pageCount:a}=this.state;let i;return i=t>=a?o.a.createElement("button",{className:"no-more",type:"button",disabled:!0},"暂无更多"):o.a.createElement("button",{type:"button",className:"more",onClick:this.getArticles},"浏览更多"),o.a.createElement("div",{className:g.a.blog},o.a.createElement("div",{className:"articles"},o.a.createElement("ul",null,e.map(e=>o.a.createElement("li",{key:e.id},o.a.createElement("div",{className:"main"},o.a.createElement("h2",{onClick:this.linkToDetail.bind(this,e.id)},e.title),o.a.createElement("div",{className:"footer"},o.a.createElement("span",{className:"date"},b()(e.updateTime).format("YYYY年MM月DD日")))),o.a.createElement("div",{className:"user"},o.a.createElement("div",{className:"avatar"},o.a.createElement(d.a,{src:e.avatar})))))),i))}}t.default=Object(r.withRouter)(u)}}]);